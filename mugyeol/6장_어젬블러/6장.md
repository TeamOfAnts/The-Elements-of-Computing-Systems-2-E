





### 어젬블러 

앞 장까지, '핵 기계어'로 된 프로그램을 실행할 수 있는 하드웨어 플랫폼 완성 

'두 가지 기계어'라는 표현 : 어젬블리도 기계에 종속되었기 때문에 기계어 범주에 넣는 것일까? 

고수준 언어 -> VM -> 기계어 (기호, 2진)

### 기호 테이블 : 어려운 부분 

핵 기호 언어 <-> 핵 2진코드


### 일반적인 어젬블리어의 기호 종류 
- 레이블 (LOOP, END) -> 정의하고, 사용
- 변수 (i, sum) -> 정의하고, 사용
- 선언 기호 (SCREEN) -> 사전 정의


### 어젬블러 개발을 통해 배우는 것들
- 명령줄 인수 처리, 입출력 텍스트 파일 처리, 명령어 파싱, 공백 처리 등등 소프트웨어 개발에서 쓰이는 기법들에 대한 지식을 얻고 활용할 수 있을 것 

### 어젬블리 - 기호 테이블 - 2진 코드 예시
![alt text](<Screenshot 2025-03-31 at 8.40.47 PM-1.png>)

-> (2진 코드가 주소 0부터 시작하면) 각 명령어는 줄 번호는 메모리 주소와 일치한다. 
-> 레이블 선언은 코드를 실행하지 않는다. 
-> D;JMP -> dest가 없는데 왜 D대신 0을 안썼지 ? 
-> 0;JMP -> 무조건 A 레지스터에 지정된 주소로 이동


### 핵 기계어 명세 - 2진 핵 프로그램 
- 첫 문자 0 : A-명령어
- 첫 문자 1 : C-명령어

![alt text](<Screenshot 2025-03-31 at 9.00.20 PM.png>)


### 핵 기계어 명세 - 어젬블리 핵 프로그램
- 어젬블리 명령어 : A-명령어 or C-명령어
- 레이블 선언 (xxx) 
- 주석

### 기호 

선언 기호
- 핵 어젬블리에서는 R0 ~ R15 / SP, LCL ... / SCREEN : 16384, KBD : 24576 과 같은 사전 정의 기호를 사용 할 수 있다. 

레이블 기호 :의사명령어
- 다음 명령어를 저장하고 있는 ROM의 주소를 기호 xxx가 참조하도록 정의한다. 

변수 기호 
- 기호 xxx가 선언 기호가 아니거나 @SCREEN, 레이블 선언(LOOP)으로 정의되지 않은 경우에는 변수로 취급된다. 
- 변수 할당은 RAM[16]부터 


### 2패스 어젬블러
- 어젬블리 프로그램에서는 기호 레이블을 정의된 라인 앞부분에서도 사용 가능하다. 

1패스 : 기호 레이블 만나면 기호 테이블에 새 항목 추가  -> 2진 코드 생성하지 않는다. 
2패스 : 기호가 있는 A 명령어 -> 기호가 있으면 숫자 값으로 교체 / 없으면 새로운 변수 
