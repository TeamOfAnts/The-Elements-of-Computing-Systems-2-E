# 컴퓨팅 시스템 - 컴파일러와 스택 머신 기초

## 컴파일러 구성 단계

컴파일러는 일반적으로 두 단계로 나눠서 구성된다:

1. **고수준 언어 → 중간코드**
2. **중간코드 → 기계어(바이너리)**

이러한 구조는 플랫폼 종속성을 줄이고 이식성을 높이기 위함이다.

---

## 중간코드란?

- **중간코드**는 가상 머신(Virtual Machine)에서 실행되도록 설계된 추상적인 코드이다.
- 플랫폼에 독립적인 코드로, 다양한 하드웨어에서도 동일하게 작동할 수 있게 한다.
- 대표 사례: **Java** → JVM(Java Virtual Machine)에서 실행됨 → 플랫폼 독립성 확보

---

## 이번 장의 핵심 개념 2가지

1. **에뮬레이션**: 하나의 컴퓨터가 다른 컴퓨터를 흉내 내어 동작
2. **스택 프로세싱**: 스택 구조를 기반으로 한 연산 처리 방식

---

## 왜 컴파일 과정을 두 단계로 나누는가?

고수준 프로그램은 결국 **기계어(2진 코드)**로 번역되어야 한다.  
기존에는 기계어마다 별도의 컴파일러가 필요했으나, **중간코드**를 도입하면서 다음과 같은 장점이 생긴다:

- 고수준 언어 → 공통된 **중간코드** (예: JVM 바이트코드)
- 중간코드 → 각 플랫폼에 맞는 기계어로 변환 (별도의 번역기 필요)

이렇게 **컴파일 과정을 분리**함으로써 코드의 재사용성과 이식성이 극대화된다.

---

## 가상 머신 (VM) 이란?

- 고수준 언어 명령어를 중간단계에서 실행할 수 있도록 설계된 **추상적인 컴퓨터**
- 플랫폼 독립적인 중간코드를 실행
- 중간코드를 실제 기계어로 번역하는 번역기가 필요

---

## 스택 머신

### 개요

- 스택 머신은 **스택 데이터 구조(LIFO)**를 기반으로 동작하는 가상 머신이다.
- 스택 연산 예시:
  - `Push`: 값을 스택에 추가
  - `Pop`: 값을 스택에서 꺼내며 제거 (손실 연산)

### 작동 방식

- 스택은 메모리(RAM) 상의 **특정 블록**을 사용한다.
- **Stack Base**: 스택의 시작 주소 (고정)
- **Stack Pointer**: 현재 스택의 최상단 위치 (변동)

스택 포인터를 이용해 **Push**와 **Pop** 연산을 통해 데이터를 처리한다.

---

## 정리

| 개념 | 설명 |
|------|------|
| **중간코드** | 가상 머신에서 실행 가능한 추상 코드 |
| **컴파일러 단계** | 고수준 언어 → 중간코드 → 기계어 |
| **가상 머신** | 중간코드를 실행할 수 있는 추상 컴퓨터 |
| **스택 머신** | LIFO 스택 기반 구조로 연산 수행 |
| **에뮬레이션** | 한 컴퓨터가 다른 컴퓨터의 동작을 모방 |

