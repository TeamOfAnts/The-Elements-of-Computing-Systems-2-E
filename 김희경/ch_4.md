# 기계어

> 이번 장에서는 최소한의 하드웨어 요소에만 초점을 맞추고 하드웨어 플랫폼은 추상화해서 바라봅니다.  
> 기계어는 프로세서와 레지스터들로 메모리를 조작하도록 설계된 언어입니다.

---

## 하드웨어 요소

### 메모리
- 데이터와 명령어를 저장하는 하드웨어 장치의 통칭  
- 기능 관점에서 고유한 주소를 가지며, 위치 또는 레지스터로도 참조할 수 있는 셀들의 연속적인 배열  

### 프로세서
- 중앙처리장치(CPU)로서 산술, 논리, 메모리 접근, 제어(분기) 연산이 포함됨  
- 2진 명령어를 파싱하고 실행할 수 있는 게이트 논리, ALU, 레지스터 모음으로 구성  

### 레지스터
- 프로세서와 메모리는 독립된 칩으로 구현되며, 두 칩 사이 데이터 이동은 느림  
- 프로세서 칩 내부에 위치하여 데이터와 명령어를 빠르게 조작하도록 로컬 고속 메모리 역할 수행  
- 데이터 레지스터와 주소 레지스터로 구분  
  - 주소 레지스터에 `n`을 설정하면, 주소 `n`인 메모리가 클록 주기 내에 선택되고 이후 연산을 수행할 준비를 함  

---

## 핵 기계어

### 메모리
- **기호 주소**를 사용해 분기 처리를 할 수 있음  
- **RAM** (Random Access Memory)  
  - 데이터 메모리 (2진 값 저장)  
  - 읽고 쓰기가 가능  
- **ROM** (Read Only Memory)  
  - 명령어 메모리 (2진 값으로 표현되는 프로그램 명령어 저장)  
  - 읽기 전용

### 레지스터
- 핵 명령어는 총 3개의 16비트 레지스터를 조작함  
  1. 데이터 레지스터 (D)  
  2. 주소 레지스터 (A)  
  3. 선택 메모리 레지스터 (M)  
- A 레지스터는 데이터 및 메모리와 명령어 메모리의 주소를 지정하는 데도 활용

### 주소지정 (입출력 처리)
- 스크린, 키보드 두 I/O 장치와 연결 가능  
- **메모리 맵**을 통해 컴퓨터와 통신 (특정 주소를 통해 화면을 조작하거나 키 입력을 읽음)

---

# 핵 언어 명세

## A-명령어 (주소 명령어)
- **2진 버전에서 MSB는 0**
- 컴퓨터에 상수를 입력하는 유일한 수단
- 선택된 RAM 레지스터의 주소를 A에 설정 → 이후 C 명령어가 해당 레지스터를 조작
- A 레지스터에 점프 목적지 주소를 설정 → C 명령어가 점프할 수 있게 함

## C-명령어 (계산 명령어)
- **2진 버전에서 MSB는 1**
- **무엇을 계산할지** (`comp`)
- **계산된 값을 어디에 저장할지** (`dest`)
- **그 다음 무엇을 할지** (`jump`)
